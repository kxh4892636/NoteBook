---
id: 5242f202-4b69-47aa-b204-02c25b1cf18e
---
# 杂项

## 题目

### 用 rand7() 实现 rand10()

##### 题目

- [470](https://leetcode.cn/problems/implement-rand10-using-rand7/solutions/15898/javascript-100-6344-by-a-si-shua-ma-tong/);

##### 思路

- 小变大;
  - 基本公式: (randX() - 1) × Y + randY() 可以等概率的生成[1, X * Y]范围的随机数;
  - 假设小值为 randM, 大值为 randN;
  - 通过上述公式, 基于 randM , 构造出一个比 n 大的 randX();
  - 在通过大变小的思想, 得到 randN();
- 大变小;
  - 假设小值为 randM, 大值为 randN;
  - 寻找一个小于 n, m 的倍数, 记作 x;
  - 若 randN() 大于 x, 重新随机, 最后得到随机值 value;
  - (value%m)+1 即可得到 randM()

```typescript
/**
 * The rand7() API is already defined for you.
 * var rand7 = function() {}
 * @return {number} a random integer in the range 1 to 7
 */
var rand10 = function () {
  const rand49 = () => {
    return (rand7() - 1) * 7 + rand7();
  };

  let res = rand49();
  while (res > 40) res = rand49();

  return (res % 10) + 1;
};
```

##### 复杂度

- 时间:n;
- 空间:1;
