# 模板代码

## 优先队列

```typescript
function PriorityQueue(compareFn) {
  this.compareFn = compareFn;
  this.queue = [];
}

PriorityQueue.prototype.push = function (item) {
  this.queue.push(item);
  let index = this.queue.length - 1;
  let parent = Math.floor((index - 1) / 2);
  while (parent >= 0 && this.compare(parent, index) > 0) {
    [this.queue[index], this.queue[parent]] = [
      this.queue[parent],
      this.queue[index],
    ];
    index = parent;
    parent = Math.floor((index - 1) / 2);
  }
};

PriorityQueue.prototype.pop = function () {
  const ret = this.queue[0];

  this.queue[0] = this.queue.pop();

  let index = 0;
  let left = 1;
  let selectedChild = this.compare(left, left + 1) > 0 ? left + 1 : left;

  while (
    selectedChild !== undefined &&
    this.compare(index, selectedChild) > 0
  ) {
    [this.queue[index], this.queue[selectedChild]] = [
      this.queue[selectedChild],
      this.queue[index],
    ];
    index = selectedChild;
    left = 2 * index + 1;
    selectedChild = this.compare(left, left + 1) > 0 ? left + 1 : left;
  }

  return ret;
};

PriorityQueue.prototype.size = function () {
  return this.queue.length;
};

PriorityQueue.prototype.compare = function (index1, index2) {
  if (this.queue[index1] === undefined) {
    return 1;
  }
  if (this.queue[index2] === undefined) {
    return -1;
  }

  return this.compareFn(this.queue[index1], this.queue[index2]);
};
```

## 并查集

```typescript
class UnionFind {
  constructor(n) {
    this.fa = new Array(n).map((_, index) => index);
  }

  find(x) {
    while (this.fa[x] !== x) {
      this.fa[x] = this.fa[this.fa[x]];
      x = this.fa[x];
    }
    return x;
  }

  union(x, y) {
    indexX = this.fa.indexOf(x);
    indexY = this.fa.indexOf(y);
    if (indexX !== indexY) {
      this.fa[x] = indexY;
    }
  }

  isConnected(x, y) {
    return this.find(x) === this.find(y);
  }
}
```
